import{r as u,d,o as m,c,b as p,w as g,e as o,t as h,j as b,m as L,F as w}from"./index.79be026a.js";const x={key:0},C=o("i",{class:"fal fa-plus"},null,-1),U={class:"ant-upload-text"},N=["src"],k={__name:"UploadImage",props:{imageList:{type:Array,default:()=>[]},title:{type:String},limit:{type:Number,default:()=>1}},emits:["update:imageList"],setup(s,{emit:f}){const n=u(!1),r=u(""),v=async t=>{r.value=t.url||t.thumbUrl,n.value=!0},_=({fileList:t})=>{const e=[...t].map(l=>{const{response:i=null,...a}=l;if(i){const{ossUrl:y}=i.data||{};return{...a,url:y}}else return l});f("update:imageList",e)};return(t,e)=>{const l=d("a-upload"),i=d("a-modal");return m(),c(w,null,[p(l,{"list-type":"picture-card","file-list":s.imageList,"onUpdate:file-list":e[0]||(e[0]=a=>L(imageList)?imageList.value=a:null),onChange:_,onPreview:v},{default:g(()=>[s.imageList.length<s.limit?(m(),c("div",x,[C,o("div",U,h(s.title),1)])):b("",!0)]),_:1},8,["file-list"]),p(i,{centered:"",visible:n.value,"onUpdate:visible":e[1]||(e[1]=a=>n.value=a),closable:!1,footer:null,bodyStyle:{padding:0}},{default:g(()=>[o("img",{alt:"example",style:{width:"100%"},src:r.value},null,8,N)]),_:1},8,["visible"])],64)}}};export{k as _};
