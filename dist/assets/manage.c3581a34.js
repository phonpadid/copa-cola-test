import{_ as $,b as r,c as F,o as _,d as v,e as t,G as k,H as V,z as M,k as A,I as D,f as y,p as H,i as P,S as U,r as q,t as z,F as G,J,j as L,w as C,h as T,q as O}from"./index.5d8a84cb.js";import{n as K}from"./message.f33fb752.js";const Q=n=>(H("data-v-330e4740"),n=n(),P(),n),W={class:"container"},X={class:"card"},Y={class:"textarea-box"},Z=["placeholder"],ee={key:0,class:"error-message"},te=Q(()=>t("i",{class:"bi bi-emoji-laughing-fill cursor-pointer"},null,-1)),se=[te],ae={__name:"FormManageText",props:{label:{type:String},self:{type:Number}},emits:["onSuccess"],setup(n,{expose:l,emit:f}){const i=n,m=r(),d=r(!1),c=r("");function a(){f("onSuccess",{self:i.self,message:s.value})}function w(){d.value=!d.value}const s=r("");function p(){u("$firstname ")}function g(){u("$team_a vs ")}function j(){u("$team_b ")}function I(){u("$datetime ")}function B(){u("$team ")}function E(e){const o=e.i;u(o)}const b=r(0),h=r(!1);function N(){var e;b.value=((e=m.value)==null?void 0:e.selectionStart)||0,h.value=!1}function u(e){var x;let o=((x=m.value)==null?void 0:x.selectionStart)||0;h.value&&(o=b.value);const S=s.value[o]?s.value[o]:"";s.value=s.value.substring(0,o)+e+S+s.value.substring(o+1),a(),h.value?b.value+=e.length:b.value=o+e.length,h.value=!0}const R=()=>{s.value.trim()===""?c.value="\u0E81\u0EB0\u0EA5\u0EB8\u0E99\u0EB2\u0E9B\u0EC9\u0EAD\u0E99\u0E82\u0ECD\u0EC9\u0E84\u0EA7\u0EB2\u0EA1\u0E81\u0EC8\u0EAD\u0E99":c.value=""};return l({onSuccessSendMessage:a}),(e,o)=>{const S=F("EmojiPicker");return _(),v("div",W,[t("div",X,[t("nav",null,[t("div",Y,[k(t("textarea",{class:"textarea",ref_key:"textInputRef",ref:m,placeholder:i.label,"onUpdate:modelValue":o[0]||(o[0]=x=>s.value=x),onInput:R,onFocus:N},null,40,Z),[[V,s.value]])]),c.value?(_(),v("p",ee,M(c.value),1)):A("",!0),t("div",{class:"emojo-open"},[t("a",{href:"#",onClick:w},se)]),k(y(S,{class:"EmojipickerClass",onSelect:E},null,512),[[D,d.value]])]),t("button",{class:"btn_a m-2 w-20 h-6 bg-blue-500 cursor-pointer text-white hover:text-gray-900 hover:bg-red-400",onClick:p}," $firstName "),t("button",{class:"btn_a m-2 w-20 h-6 bg-yellow-500 cursor-pointer text-white hover:text-gray-900 hover:bg-red-400",onClick:g}," $teamA "),t("button",{class:"btn_b m-2 w-20 h-6 bg-pink-500 cursor-pointer text-white hover:text-gray-900 hover:bg-yellow-500",onClick:j}," $teamB "),t("button",{class:"btn_b m-2 w-20 h-6 bg-pink-900 cursor-pointer text-white hover:text-gray-900 hover:bg-red-600",onClick:I}," $dateTime "),t("button",{class:"btn_b m-2 w-20 h-6 bg-pink-600 cursor-pointer text-white hover:text-gray-900 hover:bg-red-900",onClick:B}," $team ")])])}}},oe=$(ae,[["__scopeId","data-v-330e4740"]]),ne="messagetemplates/";function ce(n){const l={_method:"post",formData:!1,actionUri:ne,...n};return U.dispatch("data-resources/newManage",l)}async function le(n){const l=await ce({messages:n});console.log(l),K({title:"\u0E9A\u0EB1\u0E99\u0E97\u0EB6\u0E81\u0E82\u0ECD\u0EC9\u0EA1\u0EB9\u0E99\u0EAA\u0EB3\u0EC0\u0EA5\u0EB1\u0E94...",description:"\u0E9A\u0EB1\u0E99\u0E97\u0EB6\u0E81\u0E82\u0ECD\u0EC9\u0EA1\u0EB9\u0E99\u0EAA\u0EB3\u0EC0\u0EA5\u0EB1\u0E94\u0EC1\u0EA5\u0EC9\u0EA7...",position:"topRight"})}const ie={class:"card mt-4"},re={class:"text-xl"},ue={__name:"manage",setup(n){const l=r();function f(){for(let a=0;a<l.value.length;a++)l.value[a].onSuccessSendMessage();console.log(i.messages);const c=i.messages.map(a=>({condition:a.condition,value:a.message,is_enable:a.is_enable}));le(c)}const i=q({messages:[{self:0,message:"",label:"\u0E82\u0ECD\u0EC9\u0E84\u0EA7\u0EB2\u0EA1\u0EC0\u0EA1\u0EB7\u0EC8\u0EAD\u0EA5\u0EB9\u0E81\u0EC0\u0E9E\u0E88 \u0E84\u0EAD\u0EA1\u0EC0\u0EA1\u0EB1\u0EC9\u0E99\u0EC0\u0E8A\u0E8D\u0E97\u0EB5\u0EA1",is_enable:!0,condition:"condition_one"},{self:1,message:"",condition:"condition_two",label:"\u0E82\u0ECD\u0EC9\u0E84\u0EA7\u0EB2\u0EA1\u0EC0\u0EA1\u0EB7\u0EC8\u0EAD\u0EA5\u0EB9\u0E81\u0EC0\u0E9E\u0E88 \u0E84\u0EAD\u0EA1\u0EC0\u0EA1\u0EB1\u0EC9\u0E99\u0EC0\u0E8A\u0E8D\u0E97\u0EB5\u0EA1\u0EAD\u0EB5\u0E81\u0EAE\u0EAD\u0E9A",is_enable:!0},{self:2,message:"",label:"\u0E82\u0ECD\u0EC9\u0E84\u0EA7\u0EB2\u0EA1\u0EC0\u0EA1\u0EB7\u0EC8\u0EAD\u0E9B\u0EB0\u0E81\u0EB2\u0E94\u0E9C\u0EBB\u0E99\u0E81\u0EB2\u0E99\u0EC1\u0E82\u0EC8\u0E87\u0E82\u0EB1\u0E99",condition:"condition_three",is_enable:!0},{self:3,message:"",label:"\u0E82\u0ECD\u0EC9\u0E84\u0EA7\u0EB2\u0EA1\u0EC0\u0EA1\u0EB7\u0EC8\u0EAD\u0EA5\u0EB9\u0E81\u0EC0\u0E9E\u0E88\u0E84\u0EAD\u0EA1\u0EC0\u0EA1\u0EC9\u0E99\u0EA1\u0EB2\u0E95\u0EAD\u0E99\u0E9B\u0EB4\u0E94\u0EC2\u0EAB\u0EA7\u0E94\u0EC1\u0EA5\u0EC9\u0EA7",is_enable:!0,condition:"condition_four"}]});function m(c){i.messages[c.self].message=c.message}const{messages:d}=z(i);return(c,a)=>{const w=oe,s=F("a-button");return _(),v("div",ie,[(_(!0),v(G,null,J(L(d),(p,g)=>(_(),v("div",{class:"mt-2",key:g},[t("span",re,"* "+M(p.label),1),(_(),O(w,{ref_for:!0,ref_key:"formTextRef",ref:l,self:p.self,key:`form-text-${g}`,onOnSuccess:m,label:p.label},null,8,["self","label"]))]))),128)),y(s,{label:"Save",onClick:f,class:"m-2",type:"primary"},{default:C(()=>[T("Save")]),_:1}),y(s,{label:"Update",onClick:f,class:"m-2",type:"primary"},{default:C(()=>[T("update")]),_:1})])}}},de=$(ue,[["__scopeId","data-v-d29338e7"]]);export{de as default};
