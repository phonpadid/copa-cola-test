import{N as m}from"./validate.f5f1e6c0.js";import{B as R,r as f,a as B,o as k,c as J,b as o,w as n,f as O,g as U,h as A,i as D,n as E,j as F,d as i}from"./index.19f23562.js";function Q(){R.call(this),this.id=null,this.title=null,this.body=null,this.type="faq",this.fromJSON=s=>{this.id=s.id,this.title=s.title,this.body=s.body,this.type=s.type}}const V={class:"base-form"},I={__name:"Manage",setup(s){const p=U();A();const _=D(),h={xl:4,md:6,xs:8},b={xl:12,md:14,xs:16},d=f(null),a=B(new Q),r=f(!1),v=e=>{d.value=e},y=()=>{d.value.validate().then(e=>{g()}).catch(e=>{})};function g(){let e,t;e="post",t="post";const c=JSON.parse(JSON.stringify(a)),l={method:"post",_method:t,actionUri:e,formData:!1,...c};x(l)}function x(e){r.value=!0,p.dispatch("data-resources/manage",e).then(t=>{t.code===200&&(E({title:"Create Data Successfully",description:"data created !!",position:"topRight"}),r.value=!1,_.push({name:"FAQ.index"}).catch(()=>{}))}).catch(t=>{F({title:"Save failed",description:t.errors().join(`
`),position:"topRight"}),r.value=!1}).finally(()=>{r.value=!1})}const S={title:[m("title")],body:[m("body")]};return(e,t)=>{const c=i("a-input"),l=i("a-form-item"),w=i("a-textarea"),C=i("a-button"),N=i("a-form");return k(),J("div",V,[o(N,{class:"mt-16",form:a,ref:v,model:a,rules:S,"label-col":h,"wrapper-col":b},{default:n(()=>[o(l,{label:"Question",name:"title"},{default:n(()=>[o(c,{value:a.title,"onUpdate:value":t[0]||(t[0]=u=>a.title=u),size:"large"},null,8,["value"])]),_:1}),o(l,{label:"Answer",name:"body"},{default:n(()=>[o(w,{value:a.body,"onUpdate:value":t[1]||(t[1]=u=>a.body=u),rows:6},null,8,["value"])]),_:1}),o(l,{label:" "},{default:n(()=>[o(C,{class:"bg-blue-500",type:"primary",onClick:y},{default:n(()=>[O("save change")]),_:1})]),_:1})]),_:1},8,["form","model"])])}}};export{I as default};
