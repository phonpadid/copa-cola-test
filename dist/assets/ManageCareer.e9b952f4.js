import{_ as F}from"./UploadImage.0959a536.js";import{N as f}from"./validate.f5f1e6c0.js";import{B as I,r as _,a as J,o as V,c as D,b as o,w as i,e as u,f as g,g as E,h as T,i as z,n as L,j as M,d as l}from"./index.19f23562.js";function W(){I.call(this),this.id=null,this.name=null,this.description=null,this.type="career",this.image_logo=null,this.fromJSON=s=>{this.id=s.id,this.name=s.name,this.description=s.description,this.type=s.type,this.image_logo=s.image_logo}}const $={class:"base-form"},q=u("span",null,[u("i",{class:"far fa-long-arrow-left"})],-1),K={__name:"ManageCareer",setup(s){const h=E();T();const d=z(),r=_(!1),v={xl:4,md:6,xs:8},b={xl:12,md:14,xs:16},p=_(null),a=J(new W),x=e=>{p.value=e};function y(e){a.image_logo=e[0].originFileObj}const C=()=>{p.value.validate().then(e=>{e&&S()}).catch(e=>{})};function S(){let e,t;e="variable",t="post";const n=JSON.parse(JSON.stringify(a));n.image_logo=a.image_logo,a.image_logo instanceof File||delete n.image_logo;const c={method:"post",_method:t,actionUri:e,formData:!0,...n};w(c)}function w(e){r.value=!0,h.dispatch("data-resources/manage",e).then(t=>{t.code===200&&(L({title:"Create Data Successfully",description:"data created !!",position:"topRight"}),r.value=!1,d.push({name:"activity.index"}).catch(()=>{}))}).catch(t=>{M({title:"Save failed",description:t.errors().join(`
`),position:"topRight"}),r.value=!1}).finally(()=>{r.value=!1})}function N(){d.push({name:"career.index"}).catch(()=>{})}const k={name:[f("name")],description:[f("description")]};return(e,t)=>{const n=l("a-form-item"),c=F,B=l("a-input"),R=l("a-textarea"),U=l("a-button"),O=l("a-form");return V(),D("div",$,[o(O,{class:"mt-8",form:a,ref:x,model:a,rules:k,"label-col":v,"wrapper-col":b},{default:i(()=>[o(n,null,{default:i(()=>[u("h1",{onClick:N,class:"text-2xl tracking-wide font-black cursor-pointer text-blue-600"},[q,g(" Career ")])]),_:1}),o(n,{label:" "},{default:i(()=>[o(c,{"onUpdate:imageList":y,title:"image"})]),_:1}),o(n,{label:"name",name:"name"},{default:i(()=>[o(B,{value:a.name,"onUpdate:value":t[0]||(t[0]=m=>a.name=m),size:"large"},null,8,["value"])]),_:1}),o(n,{label:"description",name:"description"},{default:i(()=>[o(R,{value:a.description,"onUpdate:value":t[1]||(t[1]=m=>a.description=m),rows:6},null,8,["value"])]),_:1}),o(n,{label:" "},{default:i(()=>[o(U,{class:"bg-blue-500",type:"primary",onClick:C},{default:i(()=>[g("save change")]),_:1})]),_:1})]),_:1},8,["form","model"])])}}};export{K as default};
